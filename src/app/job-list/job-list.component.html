<div class="job-list-container">
    <div class="button-container">
        <button mat-raised-button class="create-new-button" (click)="triggerNewApplicationModal()">New
            Application</button>

        <br />

        <mat-form-field appearance="outline">
            <mat-label><mat-icon>search</mat-icon>Search...</mat-label>
            <input #searchInput matInput (keyup)="searchApplications(searchInput.value)">
        </mat-form-field>
    </div>
    <div class="table-container">

        <table mat-table [dataSource]="applications">

            <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef>ID</th>
                <td mat-cell *matCellDef="let cell">{{ cell.id }}</td>
            </ng-container>

            <ng-container matColumnDef="company">
                <th mat-header-cell *matHeaderCellDef>Company</th>
                <td mat-cell *matCellDef="let cell">{{ cell.company }}</td>
            </ng-container>

            <ng-container matColumnDef="job_title">
                <th mat-header-cell *matHeaderCellDef>Job Title</th>
                <td mat-cell *matCellDef="let cell">{{ cell.job_title }}</td>
            </ng-container>

            <ng-container matColumnDef="location">
                <th mat-header-cell *matHeaderCellDef>Location</th>
                <td mat-cell *matCellDef="let cell">{{ cell.location }}</td>
            </ng-container>

            <ng-container matColumnDef="salary">
                <th mat-header-cell *matHeaderCellDef>Salary</th>
                <td mat-cell *matCellDef="let cell">{{ cell.salary }}</td>
            </ng-container>

            <ng-container matColumnDef="contacted_back">
                <th mat-header-cell *matHeaderCellDef>Contacted Back</th>
                <td mat-cell *matCellDef="let cell">
                    <mat-checkbox [checked]="cell.contacted_back" disabled></mat-checkbox>
                </td>
            </ng-container>

            <ng-container matColumnDef="application_status">
                <th mat-header-cell *matHeaderCellDef>Application Status</th>
                <td mat-cell *matCellDef="let cell">{{ cell.application_status }}</td>
            </ng-container>

            <ng-container matColumnDef="site_applied">
                <th mat-header-cell *matHeaderCellDef>Site Applied</th>
                <td mat-cell *matCellDef="let cell">{{ cell.site_applied }}</td>
            </ng-container>

            <ng-container matColumnDef="date_applied">
                <th mat-header-cell *matHeaderCellDef>Date Applied</th>
                <td mat-cell *matCellDef="let cell">{{ cell.date_applied | date: 'YYYY-MM-dd'}}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns" class="header-row"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns" (click)="rowClicked(row)"
                class="application-row"
                [ngClass]="{'not-interested': row.application_status === 'companyNotInterested', 'interview-scheduled': row.application_status === 'interviewScheduled', 'waiting-on-company': row.application_status === 'waitingOnCompany'}">
            </tr>
        </table>

        <mat-paginator [pageSizeOptions]="[50, 100]"></mat-paginator>
    </div>
</div>